execute unless entity @s[scores={Shrunk=1..}] if data storage luigis_mansion:data rooms.underground_lab{cleared:1b} if entity @s[nbt=!{data:{inventory:[{components:{"minecraft:custom_data":{is_poltergust:1b}}}]}}] run function luigis_mansion:items/poltergust_3000/give
execute if score #poltergust_500 Selected matches 1 if entity @s[nbt={data:{inventory:[{components:{"minecraft:custom_data":{namespace:"luigis_mansion",id:"poltergust_3000"}}}]}},scores={Room=0..}] run function e3_demo:items/poltergust_3000/turn_to_poltergust_500
execute if score #poltergust_500 Selected matches 1 if entity @s[tag=!death_animation,tag=!revive_animation,tag=!revived_by_polterpup,nbt={data:{inventory:[{components:{"minecraft:custom_data":{namespace:"luigis_mansion",id:"poltergust_3000"}}}]}},scores={Room=..-1}] run function luigis_mansion:items/poltergust_3000/tick
execute if score #poltergust_500 Selected matches 0 if entity @s[tag=!death_animation,tag=!revive_animation,tag=!revived_by_polterpup,nbt={data:{inventory:[{components:{"minecraft:custom_data":{namespace:"luigis_mansion",id:"poltergust_3000"}}}]}}] run function luigis_mansion:items/poltergust_3000/tick