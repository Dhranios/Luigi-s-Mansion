execute unless data storage luigis_mansion:data update_data{data_version:3} run function 3ds_remake:other/upgrade_path/current_data/v3.0
data modify storage luigis_mansion:data update_data merge value {data_version:4,portrait_ghosts:{luigis_mansion:{neville:{pull:{strength:10,angle:120},flee_task:"random"},lydia:{pull:{strength:20,angle:90},flee_task:"random_in_range"},miss_petunia:{pull:{strength:0,angle:0},flee_task:"random"},spooky:{pull:{strength:0,angle:0},flee_task:"random"}}},ghosts:{e3_demo:{ghost:{pull:{strength:0,angle:120},flee_task:"random"},puncher:{pull:{strength:50,angle:120},flee_task:"alternate"},body_slammer:{pull:{strength:100,angle:60},flee_task:"random"},basher:{pull:{strength:0,angle:120},flee_task:"random"}}}}
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[nbt={data:{entity:{namespace:"e3_demo",id:"body_slammer"}}}] PullStrength 100
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[nbt={data:{entity:{namespace:"e3_demo",id:"puncher"}}}] PullStrength 50
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[nbt={data:{entity:{namespace:"luigis_mansion",id:"lydia"}}}] PullStrength 20
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[nbt={data:{entity:{namespace:"luigis_mansion",id:"neville"}}}] PullStrength 10
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[nbt={data:{entity:{namespace:"e3_demo",id:"body_slammer"}}}] PullAngle 60
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[nbt={data:{entity:{namespace:"luigis_mansion",id:"lydia"}}}] PullAngle 90
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[nbt={data:{entity:{namespace:"luigis_mansion",id:"miss_petunia"}}}] PullAngle 0
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[nbt={data:{entity:{namespace:"luigis_mansion",id:"spooky"}}}] PullAngle 0
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[tag=ghost,scores={VulnerableTime=0..}] FleeTask 0
execute if data storage luigis_mansion:data current_state.current_data{data_index:2} run scoreboard players set @e[nbt={data:{entity:{namespace:"e3_demo",id:"puncher"}}}] FleeTask 1