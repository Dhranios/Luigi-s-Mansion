tag @s remove gooigi
scoreboard players add @s Health 50
scoreboard players set @s MaxHealth 100
scoreboard players reset @s MaxHealthTime
tag @e[tag=gooigi_model,distance=..2] add dead

data modify storage luigis_mansion:data inventory set from entity @s Inventory
data modify storage luigis_mansion:data inventory[{components:{"minecraft:custom_data":{is_poltergust:1b}}}].components set value {"minecraft:unbreakable":{show_in_tooltip:0b},"minecraft:damage":1,"minecraft:custom_model_data":0,"minecraft:item_name":'{"type":"translatable","translate":"luigis_mansion:item.poltergust_3000"}',"minecraft:lore":['{"italic":false,"color":"gray","type":"translatable","translate":"luigis_mansion:item.poltergust_3000.element","with":[{"type":"translatable","translate":"luigis_mansion:item.poltergust_3000.element.none","color":"gray"}]}'],"minecraft:custom_data":{id:"luigis_mansion:poltergust_3000",is_poltergust:1b,is_nozzle:1b,model:{body_right:{id:"minecraft:diamond_pickaxe",count:1,components:{"minecraft:damage":6,"minecraft:unbreakable":{},"minecraft:custom_model_data":0,"minecraft:custom_data":{mirror:{components:{"minecraft:custom_model_data":1}}}}},body_left:{id:"minecraft:diamond_pickaxe",count:1,components:{"minecraft:damage":6,"minecraft:unbreakable":{},"minecraft:custom_model_data":1,"minecraft:custom_data":{mirror:{components:{"minecraft:custom_model_data":0}}}}},sat_on_right:{id:"minecraft:diamond_pickaxe",count:1,components:{"minecraft:damage":6,"minecraft:unbreakable":{},"minecraft:custom_model_data":2,"minecraft:custom_data":{mirror:{components:{"minecraft:custom_model_data":3}}}}},sat_on_left:{id:"minecraft:diamond_pickaxe",count:1,components:{"minecraft:damage":6,"minecraft:unbreakable":{},"minecraft:custom_model_data":3,"minecraft:custom_data":{mirror:{components:{"minecraft:custom_model_data":2}}}}},idle_right:{id:"minecraft:diamond_pickaxe",count:1,components:{"minecraft:damage":6,"minecraft:unbreakable":{},"minecraft:custom_model_data":4,"minecraft:custom_data":{mirror:{components:{"minecraft:custom_model_data":5}}}}},idle_left:{id:"minecraft:diamond_pickaxe",count:1,components:{"minecraft:damage":6,"minecraft:unbreakable":{},"minecraft:custom_model_data":5,"minecraft:custom_data":{mirror:{components:{"minecraft:custom_model_data":4}}}}}},sync_element:1b,kill:1b}}
execute if entity @s[tag=flashlight] run data modify storage luigis_mansion:data inventory[{components:{"minecraft:custom_data":{id:"luigis_mansion:flashlight"}}}].components set value {"minecraft:unbreakable":{show_in_tooltip:0b},"minecraft:damage":1,"minecraft:custom_model_data":1,"minecraft:item_name":'{"type":"translatable","translate":"luigis_mansion:item.flashlight"}',"minecraft:custom_data":{id:"luigis_mansion:flashlight",is_nozzle:1b}}
execute if entity @s[tag=!flashlight] run data modify storage luigis_mansion:data inventory[{components:{"minecraft:custom_data":{id:"luigis_mansion:flashlight"}}}].components set value {"minecraft:unbreakable":{show_in_tooltip:0b},"minecraft:damage":1,"minecraft:custom_model_data":2,"minecraft:item_name":'{"type":"translatable","translate":"luigis_mansion:item.flashlight"}',"minecraft:custom_data":{id:"luigis_mansion:flashlight",is_nozzle:1b}}
function luigis_mansion:other/sync_inventory