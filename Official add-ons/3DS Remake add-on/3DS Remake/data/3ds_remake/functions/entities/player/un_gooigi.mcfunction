tag @s remove gooigi
scoreboard players add @s Health 50
scoreboard players set @s MaxHealth 100
scoreboard players reset @s MaxHealthTime
tag @e[tag=gooigi_model,distance=..2] add dead

data modify storage luigis_mansion:data inventory set from entity @s Inventory
data modify storage luigis_mansion:data inventory[{tag:{luigis_mansion:{is_poltergust:1b}}}].tag set value {HideFlags:63,Unbreakable:1b,Damage:1,CustomModelData:0,display:{Name:'{"italic":false,"color":"white","translate":"luigis_mansion:item.poltergust_3000"}',Lore:['{"italic":false,"color":"gray","translate":"luigis_mansion:item.poltergust_3000.element","with":[{"translate":"luigis_mansion:item.poltergust_3000.element.none","color":"gray"}]}']},luigis_mansion:{id:"luigis_mansion:poltergust_3000",is_poltergust:1b,is_nozzle:1b,model:{body_right:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:6,Unbreakable:1b,CustomModelData:0,mirror:{tag:{CustomModelData:1}}}},body_left:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:6,Unbreakable:1b,CustomModelData:1,mirror:{tag:{CustomModelData:0}}}},sat_on_right:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:6,Unbreakable:1b,CustomModelData:2,mirror:{tag:{CustomModelData:3}}}},sat_on_left:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:6,Unbreakable:1b,CustomModelData:3,mirror:{tag:{CustomModelData:2}}}},idle_right:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:6,Unbreakable:1b,CustomModelData:4,mirror:{tag:{CustomModelData:5}}}},idle_left:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:6,Unbreakable:1b,CustomModelData:5,mirror:{tag:{CustomModelData:4}}}}},sync_element:1b,kill:1b}}
execute if entity @s[tag=flashlight] run data modify storage luigis_mansion:data inventory[{tag:{luigis_mansion:{id:"luigis_mansion:flashlight"}}}].tag set value {HideFlags:63,Unbreakable:1b,Damage:1,CustomModelData:1,display:{Name:'{"italic":false,"color":"white","translate":"luigis_mansion:item.flashlight"}'},luigis_mansion:{id:"luigis_mansion:flashlight",is_nozzle:1b}}
execute if entity @s[tag=!flashlight] run data modify storage luigis_mansion:data inventory[{tag:{luigis_mansion:{id:"luigis_mansion:flashlight"}}}].tag set value {HideFlags:63,Unbreakable:1b,Damage:1,CustomModelData:2,display:{Name:'{"italic":false,"color":"white","translate":"luigis_mansion:item.flashlight"}'},luigis_mansion:{id:"luigis_mansion:flashlight",is_nozzle:1b}}
function luigis_mansion:other/sync_inventory