data modify storage luigis_mansion:data inventory set from entity @s Inventory
execute if entity @s[tag=flashlight] run data modify storage luigis_mansion:data inventory[{components:{"minecraft:custom_data":{namespace:"luigis_mansion",id:"flashlight"}}}].components merge value {"minecraft:custom_model_data":2,"minecraft:custom_data":{model_data:{on:{components:{"minecraft:custom_model_data":2}},off:{components:{"minecraft:custom_model_data":3}}}}}
execute if entity @s[tag=!flashlight] run data modify storage luigis_mansion:data inventory[{components:{"minecraft:custom_data":{namespace:"luigis_mansion",id:"flashlight"}}}].components merge value {"minecraft:custom_model_data":3,"minecraft:custom_data":{model_data:{on:{components:{"minecraft:custom_model_data":2}},off:{components:{"minecraft:custom_model_data":3}}}}}
function luigis_mansion:other/sync_inventory