execute store result score #temp ID run data get storage luigis_mansion:data dialogs[0].target_player
execute as @e[tag=luigi,tag=same_room] if score @s ID = #temp ID run tag @s add target_player
scoreboard players reset #temp ID

execute if score #dialog Dialog matches 6..353 run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches 2..5 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches ..1 run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches ..353 if entity @a[tag=same_room,tag=skip_dialog,limit=1] run scoreboard players set #dialog Dialog 354
execute if score #dialog Dialog matches ..5 as @a[tag=same_room,tag=!spectator,tag=!dialog_menu,tag=!using_selection_menu] run function luigis_mansion:selection_menu/dialog/original_menu
execute if score #dialog Dialog matches 6.. as @a[tag=same_room,tag=dialog_menu] run function luigis_mansion:selection_menu/dialog/exit

scoreboard players reset @a[tag=same_room,tag=!spectator] WarpTime
execute as @a[tag=same_room,tag=!spectator,tag=game_boy_horror_menu] run function luigis_mansion:selection_menu/game_boy_horror/exit
tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] remove freeze_animation
execute if score #dialog Dialog matches 1..5 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] remove no_ai
execute if score #dialog Dialog matches 1..163 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/idle_no_poltergust
execute if score #dialog Dialog matches 1 if score #players Totals matches 1 run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"luigis_mansion:entity.boolossus","color":"green"},{"type":"translatable","translate":"luigis_mansion:dialog.boolossus.1","with":[{"type":"selector","selector":"@p[tag=!spectator]"}]}]}
execute if score #dialog Dialog matches 1 if score #players Totals matches 2.. run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"luigis_mansion:entity.boolossus","color":"green"},{"type":"translatable","translate":"luigis_mansion:dialog.boolossus.1.more"}]}

execute if score #dialog Dialog matches 3 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"luigis_mansion:entity.boolossus","color":"green"},{"type":"translatable","translate":"luigis_mansion:dialog.boolossus.2"}]}

execute if score #dialog Dialog matches 4 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"luigis_mansion:entity.boolossus","color":"green"},{"type":"translatable","translate":"luigis_mansion:dialog.boolossus.3"}]}

execute if score #dialog Dialog matches 5 if score #players Totals matches 1 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"luigis_mansion:entity.boolossus","color":"green"},{"type":"translatable","translate":"luigis_mansion:dialog.boolossus.4"}]}
execute if score #dialog Dialog matches 5 if score #players Totals matches 2.. if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"luigis_mansion:entity.boolossus","color":"green"},{"type":"translatable","translate":"luigis_mansion:dialog.boolossus.4.more"}]}

execute if score #dialog Dialog matches 6.. run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] add no_ai
execute if score #dialog Dialog matches 6 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] store result score @s HomeRotation run data get entity @s Rotation[0]

execute if score #dialog Dialog matches 6 as @a[tag=same_room] run function luigis_mansion:other/music/set/boolossus_warp
execute if score #dialog Dialog matches 36 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 38 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 40 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 42 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 44 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 46 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 48 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 50 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 52 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 54 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 56 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 58 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 60 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 62 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 64 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},sort=random,nbt=!{data:{animation:{namespace:"luigis_mansion",id:"warp_to_player"}}},limit=1] add trigger_animation
execute if score #dialog Dialog matches 36..64 at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},tag=trigger_animation,limit=1] run playsound luigis_mansion:entity.boo.laugh_2 hostile @a[tag=same_room] ~ ~ ~ 1
execute if score #dialog Dialog matches 36..64 run data modify entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},tag=trigger_animation,limit=1] data.animation set value {namespace:"luigis_mansion",id:"warp_to_player"}
execute if score #dialog Dialog matches 36..64 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},tag=trigger_animation,limit=1] at @s facing entity @e[tag=target_player,limit=1] feet run teleport @s ~ ~ ~ ~ ~
execute if score #dialog Dialog matches 36..64 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}},tag=trigger_animation,limit=1] remove trigger_animation
execute if score #dialog Dialog matches 94 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] store result entity @s Rotation[0] float 1 run scoreboard players get @s HomeRotation
execute if score #dialog Dialog matches 94 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s positioned as @e[tag=target_player,limit=1] rotated as @s run teleport @s ^ ^ ^-2.5 ~ ~
execute if score #dialog Dialog matches 164 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/none
execute if score #dialog Dialog matches 164 as @e[tag=luigi,tag=same_room] at @s positioned ^ ^ ^1 run function luigis_mansion:entities/luigi/animation/set/scare/bash_no_move
execute if score #dialog Dialog matches 200 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] run data remove entity @s data.animation
execute if score #dialog Dialog matches 164..324 unless score #mirrored Selected matches 1 as @e[tag=target_player,scores={AnimationProgress=30},limit=1] at @s rotated ~-5 0 run function luigis_mansion:entities/luigi/animation/scare/bash_force_move
execute if score #dialog Dialog matches 164..324 if score #mirrored Selected matches 1 as @e[tag=target_player,scores={AnimationProgress=30},limit=1] at @s rotated ~5 0 run function luigis_mansion:entities/luigi/animation/scare/bash_force_move
execute if score #dialog Dialog matches 164..324 run scoreboard players set @e[tag=luigi,tag=same_room,scores={AnimationProgress=30..}] AnimationProgress 29
execute if score #dialog Dialog matches 325 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/none
execute if score #dialog Dialog matches 325 as @e[tag=luigi,tag=same_room] at @s positioned ^ ^ ^1 run function luigis_mansion:entities/luigi/animation/set/scare/cower
execute if score #dialog Dialog matches 343.. as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s run teleport @s ~ ~2 ~
execute if score #dialog Dialog matches 343 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 122 ~"}
execute if score #dialog Dialog matches 344 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 124 ~"}
execute if score #dialog Dialog matches 345 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 126 ~"}
execute if score #dialog Dialog matches 346 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 128 ~"}
execute if score #dialog Dialog matches 347 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 130 ~"}
execute if score #dialog Dialog matches 348 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 132 ~"}
execute if score #dialog Dialog matches 349 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 134 ~"}
execute if score #dialog Dialog matches 351 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 136 ~"}
execute if score #dialog Dialog matches 352 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 138 ~"}
execute if score #dialog Dialog matches 353 as @e[tag=target_player,limit=1] run function luigis_mansion:entities/luigi/move/teleport {teleport:"~ 140 ~"}
execute if score #dialog Dialog matches 234.. unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet rotated ~80 0 run teleport @s ~ ~ ~ ~ ~
execute if score #dialog Dialog matches 234.. if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet rotated ~-80 0 run teleport @s ~ ~ ~ ~ ~
execute if score #dialog Dialog matches 234..243 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-2 ~ run teleport @s ^ ^ ^-2.5
execute if score #dialog Dialog matches 234..243 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~2 ~ run teleport @s ^ ^ ^-2.5
execute if score #dialog Dialog matches 244..253 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-3 ~ run teleport @s ^ ^ ^-2.3
execute if score #dialog Dialog matches 244..253 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~3 ~ run teleport @s ^ ^ ^-2.3
execute if score #dialog Dialog matches 254..263 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-4 ~ run teleport @s ^ ^ ^-2.1
execute if score #dialog Dialog matches 254..263 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~4 ~ run teleport @s ^ ^ ^-2.1
execute if score #dialog Dialog matches 264..273 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-5 ~ run teleport @s ^ ^ ^-1.9
execute if score #dialog Dialog matches 264..273 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~5 ~ run teleport @s ^ ^ ^-1.9
execute if score #dialog Dialog matches 274..283 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-6 ~ run teleport @s ^ ^ ^-1.7
execute if score #dialog Dialog matches 274..283 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~6 ~ run teleport @s ^ ^ ^-1.7
execute if score #dialog Dialog matches 284..293 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-7 ~ run teleport @s ^ ^ ^-1.5
execute if score #dialog Dialog matches 284..293 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~7 ~ run teleport @s ^ ^ ^-1.5
execute if score #dialog Dialog matches 294..303 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-8 ~ run teleport @s ^ ^ ^-1.3
execute if score #dialog Dialog matches 294..303 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~8 ~ run teleport @s ^ ^ ^-1.3
execute if score #dialog Dialog matches 304..313 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-9 ~ run teleport @s ^ ^ ^-1.1
execute if score #dialog Dialog matches 304..313 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~9 ~ run teleport @s ^ ^ ^-1.1
execute if score #dialog Dialog matches 314..323 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-10 ~ run teleport @s ^ ^ ^-0.9
execute if score #dialog Dialog matches 314..323 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~10 ~ run teleport @s ^ ^ ^-0.9
execute if score #dialog Dialog matches 324..342 unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-11 ~ run teleport @s ^ ^ ^-0.7
execute if score #dialog Dialog matches 324..342 if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~11 ~ run teleport @s ^ ^ ^-0.7
execute if score #dialog Dialog matches 343.. unless score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~-12 ~ run teleport @s ^ ^ ^-0.5
execute if score #dialog Dialog matches 343.. if score #mirrored Selected matches 1 as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] at @s facing entity @e[tag=target_player,limit=1] feet positioned as @e[tag=target_player,limit=1] rotated ~12 ~ run teleport @s ^ ^ ^-0.5
execute if score #dialog Dialog matches 354 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"boolossus"}}}] add remove_from_existence
execute if score #dialog Dialog matches 354 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/none
execute if score #dialog Dialog matches 354 as @a[tag=same_room] run function 3ds_remake:room/hidden/boolossus_battle/warp_to
execute if score #dialog Dialog matches 354 run scoreboard players set #dialog Dialog -1
tag @e[tag=target_player] remove target_player