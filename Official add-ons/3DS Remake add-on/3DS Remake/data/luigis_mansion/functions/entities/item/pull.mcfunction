$execute positioned ~ ~$(physics_offset) ~ facing entity @a[tag=vacuuming_me,sort=nearest,limit=1] feet positioned ~ ~0.1 ~ if block ^ ^ ^0.3 #luigis_mansion:item_pull_ignore positioned as @s run teleport @s ^ ^ ^0.3 ~ ~
$execute positioned ~ ~$(physics_offset) ~ facing entity @a[tag=vacuuming_me,sort=nearest,limit=1] feet positioned ~ ~0.1 ~ unless block ^ ^ ^0.3 #luigis_mansion:item_pull_ignore rotated ~ 0 if block ^ ^ ^0.3 #luigis_mansion:item_pull_ignore positioned as @s run teleport @s ^ ^ ^0.3 ~ ~
$execute positioned ~ ~$(physics_offset) ~ facing entity @a[tag=vacuuming_me,sort=nearest,limit=1] feet positioned ~ ~0.1 ~ unless block ^ ^ ^0.3 #luigis_mansion:item_pull_ignore rotated ~ 0 unless block ^ ^ ^0.3 #luigis_mansion:item_pull_ignore if block ^ ^ ^0.3 #minecraft:slabs[type=bottom] positioned as @s run teleport @s ^ ^ ^0.3 ~ ~
$execute positioned ~ ~$(physics_offset) ~ facing entity @a[tag=vacuuming_me,sort=nearest,limit=1] feet positioned ~ ~0.1 ~ unless block ^ ^ ^0.3 #luigis_mansion:item_pull_ignore rotated ~ 0 unless block ^ ^ ^0.3 #luigis_mansion:item_pull_ignore unless block ^ ^ ^0.3 #minecraft:slabs[type=bottom] if block ~ ~ ~ #minecraft:slabs[type=bottom] if block ^ ^0.5 ^0.3 #luigis_mansion:item_pull_ignore positioned as @s run teleport @s ^ ^0.5 ^0.3 ~ ~
$execute at @s[tag=!no_capture_sound,tag=!no_gooigi] positioned ~ ~$(physics_offset) ~ if entity @a[tag=vacuuming,distance=..$(pick_up_range),limit=1] run tag @s add captured
$execute at @s[tag=!no_capture_sound,tag=no_gooigi] positioned ~ ~$(physics_offset) ~ if entity @a[tag=vacuuming,tag=!gooigi,distance=..$(pick_up_range),limit=1] run tag @s add captured