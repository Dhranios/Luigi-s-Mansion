execute unless entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"haunted_object"}}},tag=attack,limit=1] at @e[tag=same_room,tag=luigi,sort=random,limit=1] as @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"haunted_object"}}},sort=nearest,limit=1] run function luigis_mansion:entities/haunted_object/select_attack