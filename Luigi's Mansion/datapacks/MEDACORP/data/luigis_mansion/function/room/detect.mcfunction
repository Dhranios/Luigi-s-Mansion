execute if entity @a[x=771.5,y=90,z=8.0,distance=..14,tag=!spectator,limit=1] run function luigis_mansion:entities/player/open_gate
function luigis_mansion:room/detect_mansion with storage luigis_mansion:data current_state.current_data.mansion_id
execute if entity @a[scores={Room=0}] run function luigis_mansion:room/door/boo_woods_underground_lab
execute if entity @a[distance=0..,scores={PositionIntX=778..798,PositionIntY=74..89,PositionIntZ=4..25}] run function luigis_mansion:room/underground_lab/tick
execute if score #underground_lab Ticking matches 1 unless entity @a[distance=0..,scores={PositionIntX=778..798,PositionIntY=74..89,PositionIntZ=4..25}] unless entity @a[scores={Room=-1}] run function luigis_mansion:room/underground_lab/not_ticking
execute if entity @a[distance=0..,scores={PositionIntX=781..800,PositionIntY=72..84,PositionIntZ=-23..4}] run function luigis_mansion:room/training_room/tick
execute if score #training_room Ticking matches 1 unless entity @a[distance=0..,scores={PositionIntX=781..800,PositionIntY=72..84,PositionIntZ=-23..4}] unless entity @a[scores={Room=-2}] run function luigis_mansion:room/training_room/not_ticking
execute if entity @a[distance=0..,scores={PositionIntX=764..779,PositionIntY=74..84,PositionIntZ=-15..25}] run function luigis_mansion:room/ghost_portrificationizer_room/tick
execute if score #ghost_portrificationizer_room Ticking matches 1 unless entity @a[distance=0..,scores={PositionIntX=764..779,PositionIntY=74..84,PositionIntZ=-15..25}] unless entity @a[scores={Room=-3}] run function luigis_mansion:room/ghost_portrificationizer_room/not_ticking
execute if entity @a[distance=0..,scores={PositionIntX=742..779,PositionIntY=74..87,PositionIntZ=-42..-15}] run function luigis_mansion:room/gallery/tick
execute if score #gallery Ticking matches 1 unless entity @a[distance=0..,scores={PositionIntX=742..779,PositionIntY=74..87,PositionIntZ=-42..-15}] unless entity @a[scores={Room=-4}] run function luigis_mansion:room/gallery/not_ticking
execute if entity @a[distance=0..,scores={PositionIntX=763..779,PositionIntY=74..87,PositionIntZ=-42..-15}] run function luigis_mansion:room/gallery_hallway_1/tick
execute unless entity @a[distance=0..,scores={PositionIntX=763..779,PositionIntY=74..87,PositionIntZ=-42..-15}] if entity @a[distance=0..,scores={PositionIntX=742..764,PositionIntY=74..87,PositionIntZ=-28..-20}] run function luigis_mansion:room/gallery_hallway_1/tick
execute if score #gallery_hallway_1 Ticking matches 1 unless entity @a[distance=0..,scores={PositionIntX=742..764,PositionIntY=74..87,PositionIntZ=-28..-20}] unless entity @a[distance=0..,scores={PositionIntX=763..779,PositionIntY=74..87,PositionIntZ=-42..-15}] unless entity @a[scores={Room=-5}] run function luigis_mansion:room/gallery_hallway_1/not_ticking
execute if entity @a[distance=0..,scores={PositionIntX=763..779,PositionIntY=74..87,PositionIntZ=-42..-15}] run function luigis_mansion:room/gallery_hallway_2/tick
execute unless entity @a[distance=0..,scores={PositionIntX=763..779,PositionIntY=74..87,PositionIntZ=-42..-15}] if entity @a[distance=0..,scores={PositionIntX=742..764,PositionIntY=74..87,PositionIntZ=-37..-29}] run function luigis_mansion:room/gallery_hallway_2/tick
execute if score #gallery_hallway_2 Ticking matches 1 unless entity @a[distance=0..,scores={PositionIntX=742..764,PositionIntY=74..87,PositionIntZ=-37..-29}] unless entity @a[distance=0..,scores={PositionIntX=763..779,PositionIntY=74..87,PositionIntZ=-42..-15}] unless entity @a[scores={Room=-6}] run function luigis_mansion:room/gallery_hallway_2/not_ticking
execute if entity @a[distance=0..,scores={PositionIntX=727..743,PositionIntY=74..87,PositionIntZ=-38..-19}] run function luigis_mansion:room/gallery_back_room/tick
execute if score #gallery_back_room Ticking matches 1 unless entity @a[distance=0..,scores={PositionIntX=727..743,PositionIntY=74..87,PositionIntZ=-42..-15}] unless entity @a[scores={Room=-7}] run function luigis_mansion:room/gallery_back_room/not_ticking
function #luigis_mansion:extra_detect
scoreboard players reset #temp Room
execute if data storage luigis_mansion:data {found_e_gadd:1b} if entity @a[scores={Room=1..},tag=!spectator] run function luigis_mansion:room/update_stats