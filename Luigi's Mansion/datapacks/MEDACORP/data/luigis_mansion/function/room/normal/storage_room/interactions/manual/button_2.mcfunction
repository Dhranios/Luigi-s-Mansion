execute if block 681 13 -46 minecraft:stone_button if block 685 10 -46 minecraft:oak_slab unless entity @e[tag=luigi,scores={Room=18},x=684.0,y=10,z=-47.0,dx=2,dy=8,dz=2,limit=1] run tag @s[x=680.0,y=13,z=-46.0,dx=1,dy=0,dz=0,tag=check] add can_interact
execute if block 681 13 -46 minecraft:stone_button if entity @s[x=680.0,y=13,z=-46.0,dx=1,dy=0,dz=0,tag=check] if block 685 10 -46 minecraft:oak_slab unless entity @e[tag=luigi,scores={Room=18},x=684.0,y=10,z=-47.0,dx=2,dy=8,dz=2,limit=1] as @e[tag=searcher,limit=1] run function luigis_mansion:entities/luigi/animation/set/inspect
execute if block 681 13 -46 minecraft:stone_button if entity @s[x=680.0,y=13,z=-46.0,dx=1,dy=0,dz=0,tag=check] run tag @e[tag=searcher,nbt=!{data:{animation:{}}},limit=1] add add_idle
execute if block 681 13 -46 minecraft:stone_button if entity @s[x=680.0,y=13,z=-46.0,dx=1,dy=0,dz=0,tag=check] as @e[tag=searcher,tag=add_idle,limit=1] run function luigis_mansion:entities/luigi/animation/set/cold_room_idle
execute if block 681 13 -46 minecraft:stone_button if entity @s[x=680.0,y=13,z=-46.0,dx=1,dy=0,dz=0,tag=check] run tag @e[tag=searcher,tag=add_idle,limit=1] add idle
execute if block 681 13 -46 minecraft:stone_button if entity @s[x=680.0,y=13,z=-46.0,dx=1,dy=0,dz=0,tag=check] run tag @e[tag=searcher,tag=add_idle,limit=1] remove add_idle
execute if block 681 13 -46 minecraft:stone_button if entity @s[x=680.0,y=13,z=-46.0,dx=1,dy=0,dz=0,tag=!sound,tag=!check] unless entity @e[tag=luigi,scores={Room=18},x=684.0,y=10,z=-47.0,dx=2,dy=8,dz=2,limit=1] run function luigis_mansion:blocks/search_sound/button
execute if block 681 13 -46 minecraft:stone_button if entity @s[x=680.0,y=13,z=-46.0,dx=1,dy=0,dz=0,tag=!sound,tag=!check] if block 685 10 -46 minecraft:oak_slab unless entity @e[tag=luigi,scores={Room=18},x=684.0,y=10,z=-47.0,dx=2,dy=8,dz=2,limit=1] if data storage luigis_mansion:data current_state.current_data.rooms.storage_room{cleared:1b} unless data storage luigis_mansion:data current_state.current_data.technical_data{released_boos:1b} unless data storage luigis_mansion:data dialogs[{room:18}] run data modify storage luigis_mansion:data dialogs append value {name:{namespace:"luigis_mansion",id:"normal/release_boos"},room:18,progress:0}