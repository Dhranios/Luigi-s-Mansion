execute if entity @s[tag=!lit] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:air replace minecraft:light[waterlogged=false]
execute if entity @s[tag=!lit] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:water[level=0] replace minecraft:light[waterlogged=true]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=0}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=0,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=0}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=0,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=1}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=1,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=1}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=1,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=2}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=2,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=2}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=2,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=3}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=3,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=3}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=3,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=4}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=4,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=4}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=4,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=5}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=5,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=5}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=5,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=6}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=6,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=6}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=6,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=7}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=7,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=7}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=7,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=8}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=8,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=8}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=8,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=9}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=9,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=9}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=9,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=10}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=10,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=10}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=10,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=11}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=11,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=11}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=11,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=12}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=12,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=12}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=12,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=13}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=13,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=13}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=13,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=14}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=14,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=14}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=14,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=15}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=15,waterlogged=false] replace minecraft:air
execute if entity @s[tag=lit,scores={FurnitureLightStrength=15}] run fill ~-0.4 ~-0.4 ~-0.4 ~0.4 ~0.4 ~0.4 minecraft:light[level=15,waterlogged=true] replace minecraft:water[level=0]
execute if entity @s[tag=lit,scores={FurnitureLightStrength=1..},tag=cast_shadow] store result score @e[tag=same_room,tag=!furniture] LightX run data get entity @e[tag=temp,limit=1] Pos[0] 100
execute if entity @s[tag=lit,scores={FurnitureLightStrength=1..},tag=cast_shadow] store result score @e[tag=same_room,tag=!furniture] LightY run data get entity @e[tag=temp,limit=1] Pos[1] 100
execute if entity @s[tag=lit,scores={FurnitureLightStrength=1..},tag=cast_shadow] store result score @e[tag=same_room,tag=!furniture] LightZ run data get entity @e[tag=temp,limit=1] Pos[2] 100