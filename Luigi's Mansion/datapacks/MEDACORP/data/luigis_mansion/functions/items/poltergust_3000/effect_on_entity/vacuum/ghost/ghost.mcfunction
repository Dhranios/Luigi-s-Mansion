execute unless score #global_difficulty Selected matches 3 if entity @s[tag=ghost,scores={VulnerableTime=2..},tag=!dead,tag=!vanish,tag=!appear,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boo"}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boolossus"}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"king_boo"}}}]}] run function luigis_mansion:items/poltergust_3000/effect_on_entity/vacuum/effect/ghost/ghost
execute if score #global_difficulty Selected matches 3 if entity @s[tag=ghost,scores={StunTime=1..,VulnerableTime=2..},tag=!dead,tag=!vanish,tag=!appear,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boo"}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boolossus"}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"king_boo"}}}]}] run function luigis_mansion:items/poltergust_3000/effect_on_entity/vacuum/effect/ghost/ghost
execute if score #global_difficulty Selected matches 3 if entity @s[tag=ghost,scores={VulnerableTime=2..},tag=!dead,tag=!vanish,tag=!appear,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boo"}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boolossus"}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"king_boo"}}}]}] if entity @a[tag=me,tag=!dark_room] run function luigis_mansion:items/poltergust_3000/effect_on_entity/vacuum/effect/ghost/ghost