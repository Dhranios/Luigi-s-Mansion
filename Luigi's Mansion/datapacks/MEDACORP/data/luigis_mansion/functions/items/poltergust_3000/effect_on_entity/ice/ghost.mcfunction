execute unless entity @s[tag=basher,tag=!visible] run tag @s[tag=ghost,tag=!burning_heart,tag=!frozen_heart,tag=!vacuumable,tag=!portrait_ghost,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boo"}}}]},tag=!hurt,tag=!vanish,tag=!appear,tag=!flee,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"elemental_ghost"}}}]}] add element_hurt
execute unless entity @s[tag=basher,tag=!visible] run tag @s[tag=ghost,tag=!burning_heart,tag=!frozen_heart,tag=!vacuumable,tag=!portrait_ghost,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boo"}}}]},tag=!hurt,tag=!vanish,tag=!appear,tag=!flee,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"elemental_ghost"}}}]},tag=!freeze_animation] add elemental_freeze_animation
execute unless entity @s[tag=basher,tag=!visible] run tag @s[tag=ghost,tag=!burning_heart,tag=!frozen_heart,tag=!vacuumable,tag=!portrait_ghost,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boo"}}}]},tag=!hurt,tag=!vanish,tag=!appear,tag=!flee,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"elemental_ghost"}}}]}] add freeze_animation
execute unless entity @s[tag=basher,tag=!visible] run tag @s[tag=ghost,tag=!burning_heart,tag=!frozen_heart,tag=!vacuumable,tag=!portrait_ghost,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boo"}}}]},tag=!hurt,tag=!vanish,tag=!appear,tag=!flee,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"elemental_ghost"}}}]}] add freeze
execute unless entity @s[tag=basher,tag=!visible] if entity @s[tag=ghost,tag=!burning_heart,tag=!frozen_heart,tag=!vacuumable,tag=!portrait_ghost,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"boo"}}}]},tag=!hurt,tag=!vanish,tag=!appear,tag=!flee,nbt=!{ArmorItems:[{tag:{luigis_mansion:{namespace:"luigis_mansion",id:"elemental_ghost"}}}]}] run function luigis_mansion:items/poltergust_3000/latch_onto_ghost with storage luigis_mansion:data macro