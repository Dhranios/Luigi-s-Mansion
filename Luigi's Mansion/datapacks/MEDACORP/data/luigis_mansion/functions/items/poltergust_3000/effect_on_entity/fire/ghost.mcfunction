execute unless entity @s[tag=basher,tag=!visible] run tag @s[tag=ghost,tag=!burning_heart,tag=!watery_heart,tag=!vacuumable,tag=!portrait_ghost,nbt=!{ArmorItems:[{tag:{namespace:"luigis_mansion",id:"boo"}}]},tag=!hurt_animation,tag=!vanish,tag=!appear,tag=!fleeing,nbt=!{ArmorItems:[{tag:{namespace:"luigis_mansion",id:"elemental_ghost"}}]}] add element_hurt
execute unless entity @s[tag=basher,tag=!visible] if entity @s[tag=ghost,tag=!burning_heart,tag=!watery_heart,tag=!vacuumable,tag=!portrait_ghost,nbt=!{ArmorItems:[{tag:{namespace:"luigis_mansion",id:"boo"}}]},tag=!hurt_animation,tag=!vanish,tag=!appear,tag=!fleeing,nbt=!{ArmorItems:[{tag:{namespace:"luigis_mansion",id:"elemental_ghost"}}]}] run function luigis_mansion:items/poltergust_3000/latch_onto_ghost with storage luigis_mansion:data macro