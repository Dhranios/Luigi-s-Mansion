data modify storage luigis_mansion:data furniture set value {searchable:["interact"],shake_animation:["interact"],no_dust:1b,must_face:1b,cannot_search_when_open:1b,use_medium_shake:1b,sound:{namespace:"luigis_mansion",id:"chest"}}
execute unless data storage luigis_mansion:data current_state.current_data.obtained_items{ice_element_medal:1b} run data modify storage luigis_mansion:data furniture.loot set value {contents:{luigis_mansion:{element_medal:[{variant:"ice",rotation:[0.0f,0.0f]}]}}}
execute unless data storage luigis_mansion:data current_state.current_data{money_spawned:["tea_room_room_clear_chest"]} run data modify storage luigis_mansion:data furniture.loot.name set value "tea_room_room_clear_chest"
execute if data storage luigis_mansion:data current_state.current_data{money_spawned:["tea_room_room_clear_chest"]} run data modify storage luigis_mansion:data furniture merge value {searched:1b,no_search_animation:1b}
execute if data storage luigis_mansion:data current_state.current_data.rooms.tea_room{cleared:1b} if data storage luigis_mansion:data current_state.current_data{blackout:0b} positioned 643 21 54 rotated -90 0 run function luigis_mansion:spawn_furniture/room_clear_chest/white
execute if data storage luigis_mansion:data current_state.current_data.rooms.tea_room{cleared:1b} if data storage luigis_mansion:data current_state.current_data{blackout:0b} run setblock 643 21 54 minecraft:light_gray_stained_glass
data remove storage luigis_mansion:data furniture
