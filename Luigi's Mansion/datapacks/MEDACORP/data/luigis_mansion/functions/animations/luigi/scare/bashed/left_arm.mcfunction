scoreboard players operation @s IdleTime = @a[tag=this_luigi,limit=1] IdleTime
teleport @s[scores={IdleTime=-31},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.05 ~ ~ ~
teleport @s[scores={IdleTime=-20},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.1 ~ ~ ~
teleport @s[scores={IdleTime=-29},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.15 ~ ~ ~
teleport @s[scores={IdleTime=-28},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.2 ~ ~ ~
teleport @s[scores={IdleTime=-27},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.25 ~ ~ ~
teleport @s[scores={IdleTime=-26},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.3 ~ ~ ~
teleport @s[scores={IdleTime=-25},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.35 ~ ~ ~
teleport @s[scores={IdleTime=-24},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.4 ~ ~ ~
teleport @s[scores={IdleTime=-23},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.45 ~ ~ ~
teleport @s[scores={IdleTime=-22..-10},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.5 ~ ~ ~
teleport @s[scores={IdleTime=-9},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.45 ~ ~ ~
teleport @s[scores={IdleTime=-8},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.4 ~ ~ ~
teleport @s[scores={IdleTime=-7},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.35 ~ ~ ~
teleport @s[scores={IdleTime=-6},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.3 ~ ~ ~
teleport @s[scores={IdleTime=-5},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.25 ~ ~ ~
teleport @s[scores={IdleTime=-4},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.2 ~ ~ ~
teleport @s[scores={IdleTime=-3},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.15 ~ ~ ~
teleport @s[scores={IdleTime=-2},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.1 ~ ~ ~
teleport @s[scores={IdleTime=-1},tag=!flipped_gravity,nbt=!{Small:1b}] ~ ~-0.05 ~ ~ ~
teleport @s[scores={IdleTime=-31},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.05 ~ ~ ~
teleport @s[scores={IdleTime=-20},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.1 ~ ~ ~
teleport @s[scores={IdleTime=-29},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.15 ~ ~ ~
teleport @s[scores={IdleTime=-28},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.2 ~ ~ ~
teleport @s[scores={IdleTime=-27},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.25 ~ ~ ~
teleport @s[scores={IdleTime=-26},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.3 ~ ~ ~
teleport @s[scores={IdleTime=-25},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.35 ~ ~ ~
teleport @s[scores={IdleTime=-24},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.4 ~ ~ ~
teleport @s[scores={IdleTime=-23},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.45 ~ ~ ~
teleport @s[scores={IdleTime=-22..-10},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.5 ~ ~ ~
teleport @s[scores={IdleTime=-9},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.45 ~ ~ ~
teleport @s[scores={IdleTime=-8},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.4 ~ ~ ~
teleport @s[scores={IdleTime=-7},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.35 ~ ~ ~
teleport @s[scores={IdleTime=-6},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.3 ~ ~ ~
teleport @s[scores={IdleTime=-5},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.25 ~ ~ ~
teleport @s[scores={IdleTime=-4},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.2 ~ ~ ~
teleport @s[scores={IdleTime=-3},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.15 ~ ~ ~
teleport @s[scores={IdleTime=-2},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.1 ~ ~ ~
teleport @s[scores={IdleTime=-1},tag=flipped_gravity,nbt=!{Small:1b}] ~ ~0.05 ~ ~ ~
teleport @s[scores={IdleTime=-31},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.025 ~ ~ ~
teleport @s[scores={IdleTime=-20},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.05 ~ ~ ~
teleport @s[scores={IdleTime=-29},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.075 ~ ~ ~
teleport @s[scores={IdleTime=-28},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.1 ~ ~ ~
teleport @s[scores={IdleTime=-27},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.125 ~ ~ ~
teleport @s[scores={IdleTime=-26},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.15 ~ ~ ~
teleport @s[scores={IdleTime=-25},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.175 ~ ~ ~
teleport @s[scores={IdleTime=-24},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.2 ~ ~ ~
teleport @s[scores={IdleTime=-23},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.225 ~ ~ ~
teleport @s[scores={IdleTime=-22..-10},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.25 ~ ~ ~
teleport @s[scores={IdleTime=-9},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.225 ~ ~ ~
teleport @s[scores={IdleTime=-8},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.2 ~ ~ ~
teleport @s[scores={IdleTime=-7},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.175 ~ ~ ~
teleport @s[scores={IdleTime=-6},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.15 ~ ~ ~
teleport @s[scores={IdleTime=-5},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.125 ~ ~ ~
teleport @s[scores={IdleTime=-4},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.1 ~ ~ ~
teleport @s[scores={IdleTime=-3},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.075 ~ ~ ~
teleport @s[scores={IdleTime=-2},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.05 ~ ~ ~
teleport @s[scores={IdleTime=-1},tag=!flipped_gravity,nbt={Small:1b}] ~ ~-0.025 ~ ~ ~
teleport @s[scores={IdleTime=-31},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.025 ~ ~ ~
teleport @s[scores={IdleTime=-20},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.05 ~ ~ ~
teleport @s[scores={IdleTime=-29},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.075 ~ ~ ~
teleport @s[scores={IdleTime=-28},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.1 ~ ~ ~
teleport @s[scores={IdleTime=-27},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.125 ~ ~ ~
teleport @s[scores={IdleTime=-26},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.15 ~ ~ ~
teleport @s[scores={IdleTime=-25},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.175 ~ ~ ~
teleport @s[scores={IdleTime=-24},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.2 ~ ~ ~
teleport @s[scores={IdleTime=-23},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.225 ~ ~ ~
teleport @s[scores={IdleTime=-22..-10},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.25 ~ ~ ~
teleport @s[scores={IdleTime=-9},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.225 ~ ~ ~
teleport @s[scores={IdleTime=-8},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.2 ~ ~ ~
teleport @s[scores={IdleTime=-7},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.175 ~ ~ ~
teleport @s[scores={IdleTime=-6},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.15 ~ ~ ~
teleport @s[scores={IdleTime=-5},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.125 ~ ~ ~
teleport @s[scores={IdleTime=-4},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.1 ~ ~ ~
teleport @s[scores={IdleTime=-3},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.075 ~ ~ ~
teleport @s[scores={IdleTime=-2},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.05 ~ ~ ~
teleport @s[scores={IdleTime=-1},tag=flipped_gravity,nbt={Small:1b}] ~ ~0.025 ~ ~ ~
data merge entity @s[scores={IdleTime=-51}] {Pose:{Head:[-180.0f,0.0f,0.01f]}}
data merge entity @s[scores={IdleTime=-51},tag=flipped_gravity] {Pose:{Head:[-180.0f,0.0f,-180.0f]}}
execute store result score #temp Time run data get entity @s Pose.Head[0]
execute if entity @s[scores={IdleTime=-31..-22}] store result entity @s Pose.Head[0] float 1 run scoreboard players add #temp Time 18
scoreboard players set @s[scores={IdleTime=-23}] AnimationProgress 0
scoreboard players set @s[scores={IdleTime=-22},tag=!moved] AnimationProgress 0
data merge entity @s[scores={IdleTime=-22},tag=!moved] {Pose:{Head:[0.0f,0.0f,0.01f]}}
data merge entity @s[scores={IdleTime=-22},tag=!moved,tag=flipped_gravity] {Pose:{Head:[0.0f,0.0f,-180.0f]}}
scoreboard players add @s[scores={IdleTime=-22},tag=moved] AnimationProgress 1
execute if entity @s[scores={IdleTime=-22,AnimationProgress=1..2},tag=moved] unless score #mirrored Selected matches 1 store result entity @s Pose.Head[0] float 1 run scoreboard players add #temp Time 4
execute if entity @s[scores={IdleTime=-22,AnimationProgress=3..6},tag=moved] unless score #mirrored Selected matches 1 store result entity @s Pose.Head[0] float 1 run scoreboard players remove #temp Time 4
execute if entity @s[scores={IdleTime=-22,AnimationProgress=7..8},tag=moved] unless score #mirrored Selected matches 1 store result entity @s Pose.Head[0] float 1 run scoreboard players add #temp Time 4
execute if entity @s[scores={IdleTime=-22,AnimationProgress=1..2},tag=moved] if score #mirrored Selected matches 1 store result entity @s Pose.Head[0] float 1 run scoreboard players remove #temp Time 4
execute if entity @s[scores={IdleTime=-22,AnimationProgress=3..6},tag=moved] if score #mirrored Selected matches 1 store result entity @s Pose.Head[0] float 1 run scoreboard players add #temp Time 4
execute if entity @s[scores={IdleTime=-22,AnimationProgress=7..8},tag=moved] if score #mirrored Selected matches 1 store result entity @s Pose.Head[0] float 1 run scoreboard players remove #temp Time 4
scoreboard players set @s[scores={IdleTime=-22,AnimationProgress=8},tag=moved] AnimationProgress 0
scoreboard players set @s[scores={IdleTime=-21}] AnimationProgress 0
data merge entity @s[scores={IdleTime=-21}] {Pose:{Head:[0.0f,0.0f,0.01f]}}
data merge entity @s[scores={IdleTime=-21},tag=flipped_gravity] {Pose:{Head:[0.0f,0.0f,-180.0f]}}
execute if entity @s[scores={IdleTime=-20..-11}] store result entity @s Pose.Head[0] float 1 run scoreboard players remove #temp Time 2
execute if entity @s[scores={IdleTime=-10..-1}] store result entity @s Pose.Head[0] float 1 run scoreboard players add #temp Time 2
data merge entity @s[scores={IdleTime=-1}] {Pose:{Head:[0.0f,0.0f,0.01f]}}
data merge entity @s[scores={IdleTime=-1},tag=flipped_gravity] {Pose:{Head:[0.0f,0.0f,-180.0f]}}
scoreboard players reset #temp Time
scoreboard players reset @s IdleTime