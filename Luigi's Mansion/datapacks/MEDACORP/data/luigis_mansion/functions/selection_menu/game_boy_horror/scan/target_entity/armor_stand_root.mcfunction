execute if entity @s[scores={EntitySizeWidth=1..}] run function luigis_mansion:selection_menu/game_boy_horror/scan/target_entity/collision_box_check
execute if entity @s[scores={EntitySizeRadius=1..}] run function luigis_mansion:selection_menu/game_boy_horror/scan/target_entity/collision_radius_check
execute if entity @s[tag=scanned,nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:"warp"}}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:""}}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{sender:"scanner"}}}}]}] unless data entity @s ArmorItems[3].tag.luigis_mansion.scan_message.plural_message unless entity @e[tag=entity_scanned,tag=this_interact,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"selector","selector":"@s","color":"green"},{"type":"nbt","nbt":"ArmorItems[3].tag.luigis_mansion.scan_message.message","source":"entity","entity":"@s","interpret":true}]}
execute if entity @s[tag=scanned,nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:"warp"}}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:""}}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{sender:"scanner"}}}}]}] if data entity @s ArmorItems[3].tag.luigis_mansion.scan_message.plural_message unless entity @e[tag=entity_scanned,tag=this_interact,limit=1] if score #players Totals matches 1 run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"selector","selector":"@s","color":"green"},{"type":"nbt","nbt":"ArmorItems[3].tag.luigis_mansion.scan_message.message","source":"entity","entity":"@s","interpret":true}]}
execute if entity @s[tag=scanned,nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:"warp"}}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:""}}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{sender:"scanner"}}}}]}] if data entity @s ArmorItems[3].tag.luigis_mansion.scan_message.plural_message unless entity @e[tag=entity_scanned,tag=this_interact,limit=1] if score #players Totals matches 2.. run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"selector","selector":"@s","color":"green"},{"type":"nbt","nbt":"ArmorItems[3].tag.luigis_mansion.scan_message.plural_message","source":"entity","entity":"@s","interpret":true}]}
execute if entity @s[tag=scanned,nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:"warp"}}}}]},nbt=!{ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:""}}}}]},nbt={ArmorItems:[{tag:{luigis_mansion:{scan_message:{sender:"scanner"}}}}]}] unless entity @e[tag=entity_scanned,tag=this_interact,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"selector","selector":"@p[tag=scanning_player]","color":"green"},{"type":"nbt","nbt":"ArmorItems[3].tag.luigis_mansion.scan_message.message","source":"entity","entity":"@s","interpret":true}]}
execute if entity @s[tag=scanned,nbt={ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:"warp"}}}}]}] unless entity @e[tag=entity_scanned,tag=this_interact,limit=1] if score #can_warp Selected matches 1 as @p[tag=scanning_player] unless entity @s[scores={Dialog=1..}] run tag @s add warp
execute if entity @s[tag=scanned,nbt={ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:"warp"}}}}]}] unless entity @e[tag=entity_scanned,tag=this_interact,limit=1] if score #can_warp Selected matches 1 as @p[tag=scanning_player,scores={Dialog=1..}] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"selector","selector":"@p[tag=scanning_player]","color":"green"},{"type":"translatable","translate":"luigis_mansion:message.player.scan_furniture.96"}]}
execute if entity @s[tag=scanned,nbt={ArmorItems:[{tag:{luigis_mansion:{scan_message:{message:"warp"}}}}]}] unless entity @e[tag=entity_scanned,tag=this_interact,limit=1] if score #can_warp Selected matches 0 as @p[tag=scanning_player] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"selector","selector":"@p[tag=scanning_player]","color":"green"},{"type":"translatable","translate":"luigis_mansion:message.player.scan_furniture.96"}]}
execute if entity @s[tag=scanned] run tag @e[tag=this_interact,limit=1] add entity_scanned